<!DOCTYPE HTML>
<html>
<head>
  <title>new chart</title>
  <link rel="stylesheet" href="../css/bootstrap.css">
<script type="text/javascript" src="/js/jquery-1.11.1.js"></script>
<script type="text/javascript" src="/js/stockChart.js"></script>
<script type="text/javascript">
window.onload = function () {
  var stockChart = new CanvasJS.StockChart("chartContainer",{
    theme: "light2",
    animationEnabled: false,
    title:{
      text:"CFS 450 IQF 1"
    },
    subtitles: [{
      //text: "No of Trades: BTC/USD vs BTC/EUR"
    }],
    charts: [{
      axisY: {
        title: "% DE INYECCION"
      },
      toolTip: {
        shared: true
      },
      legend: {
            cursor: "pointer",
            itemclick: function (e) {
              if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible)
                e.dataSeries.visible = false;
              else
                e.dataSeries.visible = true;
              e.chart.render();
            }
        },
      data: [{
        type: "spline",
        showInLegend: true,
        name: "TRUTRO LARGO",
        yValueFormatString: "#,## %",
        xValueType: "dateTime",
        dataPoints : [
          {x: new Date(2020, 01, 01, 10, 00), y: 16.9, markerColor: "green" },
          {x: new Date(2020, 01, 02, 11, 00), y: 18.5, markerColor: "green", indexLabel: "",  indexLabelFontColor: ""},
          {x: new Date(2020, 01, 03, 12, 00), y: 25.6, markerColor: "red", indexLabel: "\u25B2",  indexLabelFontColor: "red"},
          {x: new Date(2020, 01, 04, 13, 00), y: 18.1, markerColor: "green" },
          {x: new Date(2020, 01, 05, 14, 00), y: 11.1, markerColor: "green" },
          {x: new Date(2020, 01, 06, 15, 00), y: 17.4, markerColor: "green" },
          {x: new Date(2020, 01, 07, 16, 00), y: 16.5, markerColor: "green" },
          {x: new Date(2020, 01, 08, 17, 00), y: 18.9, markerColor: "green" },
          {x: new Date(2020, 01, 09, 18, 00), y: 19.8, markerColor: "red", indexLabel: "\u25Bc",  indexLabelFontColor: "red"},
          {x: new Date(2020, 01, 10, 19, 00), y: 11.4, markerColor: "green" },
          {x: new Date(2020, 01, 11, 20, 00), y: 19.5, markerColor: "green" },
          {x: new Date(2020, 01, 12, 21, 00), y: 11.2, markerColor: "green" },
          {x: new Date(2020, 01, 13, 22, 00), y: 19.8, markerColor: "red", indexLabel: "\u25Bc",  indexLabelFontColor: "red"},
          {x: new Date(2020, 01, 14, 23, 00), y: 17.1, markerColor: "green" },
          {x: new Date(2020, 01, 15, 24, 00), y: 14.3, markerColor: "green" },
          {x: new Date(2020, 01, 16, 25, 00), y: 19.2, markerColor: "green" },
        ]   
      },{
        type: "spline",
        showInLegend: true,
        name: "TRUTRO CORTO",
        yValueFormatString: "#,## %",
        dataPoints : [
          {x: new Date(2020, 01, 17, 10, 00), y: 16.3, markerColor: "green" },
          {x: new Date(2020, 01, 18, 11, 00), y: 13.5, markerColor: "green", indexLabel: "",  indexLabelFontColor: ""},
          {x: new Date(2020, 01, 19, 12, 00), y: 20.6, markerColor: "red", indexLabel: "\u25B2",  indexLabelFontColor: "red"},
          {x: new Date(2020, 01, 20, 13, 00), y: 15.1, markerColor: "green" },
          {x: new Date(2020, 01, 21, 14, 00), y: 15.1, markerColor: "green" },
          {x: new Date(2020, 01, 22, 15, 00), y: 15.4, markerColor: "green" },
          {x: new Date(2020, 01, 23, 16, 00), y: 14.5, markerColor: "green" },
          {x: new Date(2020, 01, 24, 17, 00), y: 14.9, markerColor: "green" },
          {x: new Date(2020, 01, 25, 18, 00), y: 12.8, markerColor: "red", indexLabel: "\u25Bc",  indexLabelFontColor: "red"},
          {x: new Date(2020, 01, 26, 19, 00), y: 14.4, markerColor: "green" },
          {x: new Date(2020, 01, 27, 20, 00), y: 14.5, markerColor: "green" },
          {x: new Date(2020, 01, 28, 21, 00), y: 15.2, markerColor: "green" },
          {x: new Date(2020, 01, 29, 22, 00), y: 10.8, markerColor: "red", indexLabel: "\u25Bc",  indexLabelFontColor: "red"},
          {x: new Date(2020, 01, 30, 23, 00), y: 15.1, markerColor: "green" },
          {x: new Date(2020, 02, 01, 24, 00), y: 15.3, markerColor: "green" },
          {x: new Date(2020, 02, 02, 25, 00), y: 14.2, markerColor: "green" },
        ]   
      },{
        type: "spline",
        showInLegend: true,
        name: "TRUTRO MEDIANO",
        yValueFormatString: "#,## %",
        dataPoints : [
          {x: new Date(2020, 02, 17, 10, 00), y: 16.3, markerColor: "green" },
          {x: new Date(2020, 02, 18, 11, 00), y: 13.5, markerColor: "green", indexLabel: "",  indexLabelFontColor: ""},
          {x: new Date(2020, 02, 19, 12, 00), y: 20.6, markerColor: "red", indexLabel: "\u25B2",  indexLabelFontColor: "red"},
          {x: new Date(2020, 02, 20, 13, 00), y: 15.1, markerColor: "green" },
          {x: new Date(2020, 02, 21, 14, 00), y: 15.1, markerColor: "green" },
          {x: new Date(2020, 02, 22, 15, 00), y: 15.4, markerColor: "green" },
          {x: new Date(2020, 02, 23, 16, 00), y: 14.5, markerColor: "green" },
          {x: new Date(2020, 02, 24, 17, 00), y: 14.9, markerColor: "green" },
          {x: new Date(2020, 02, 25, 18, 00), y: 12.8, markerColor: "red", indexLabel: "\u25Bc",  indexLabelFontColor: "red"},
          {x: new Date(2020, 02, 26, 19, 00), y: 14.4, markerColor: "green" },
          {x: new Date(2020, 02, 27, 20, 00), y: 14.5, markerColor: "green" },
          {x: new Date(2020, 02, 28, 21, 00), y: 15.2, markerColor: "green" },
          {x: new Date(2020, 02, 29, 22, 00), y: 10.8, markerColor: "red", indexLabel: "\u25Bc",  indexLabelFontColor: "red"},
        ]   
      }]
    }],
    rangeSelector: {
      enabled: false
    },
    navigator: {
      data: [{
        dataPoints: [
          {x: new Date(2020, 01, 01, 10, 00), y: 16.3},
          {x: new Date(2020, 01, 02, 11, 00), y: 13.5},
          {x: new Date(2020, 01, 03, 12, 00), y: 20.6},
          {x: new Date(2020, 01, 04, 13, 00), y: 15.1},
          {x: new Date(2020, 01, 05, 14, 00), y: 15.1},
          {x: new Date(2020, 01, 06, 15, 00), y: 15.4},
          {x: new Date(2020, 01, 07, 16, 00), y: 14.5},
          {x: new Date(2020, 01, 08, 17, 00), y: 14.9},
          {x: new Date(2020, 01, 09, 18, 00), y: 12.8},
          {x: new Date(2020, 01, 10, 19, 00), y: 14.4},
          {x: new Date(2020, 01, 11, 20, 00), y: 14.5},
          {x: new Date(2020, 01, 12, 21, 00), y: 15.2},
          {x: new Date(2020, 01, 13, 22, 00), y: 10.8},
          {x: new Date(2020, 01, 14, 23, 00), y: 15.1},
          {x: new Date(2020, 01, 15, 24, 00), y: 15.3},
          {x: new Date(2020, 01, 16, 25, 00), y: 14.2},
          {x: new Date(2020, 01, 17, 10, 00), y: 16.3},
          {x: new Date(2020, 01, 18, 11, 00), y: 13.5},
          {x: new Date(2020, 01, 19, 12, 00), y: 20.6},
          {x: new Date(2020, 01, 20, 13, 00), y: 15.1},
          {x: new Date(2020, 01, 21, 14, 00), y: 15.1},
          {x: new Date(2020, 01, 22, 15, 00), y: 15.4},
          {x: new Date(2020, 01, 23, 16, 00), y: 14.5},
          {x: new Date(2020, 01, 24, 17, 00), y: 14.9},
          {x: new Date(2020, 01, 25, 18, 00), y: 12.8},
          {x: new Date(2020, 01, 26, 19, 00), y: 14.4},
          {x: new Date(2020, 01, 27, 20, 00), y: 14.5},
          {x: new Date(2020, 01, 28, 21, 00), y: 15.2},
          {x: new Date(2020, 01, 29, 22, 00), y: 10.8},
          {x: new Date(2020, 01, 30, 23, 00), y: 15.1},
          {x: new Date(2020, 02, 01, 24, 00), y: 15.3},
          {x: new Date(2020, 02, 02, 25, 00), y: 14.2},
          {x: new Date(2020, 02, 17, 10, 00), y: 16.3},
          {x: new Date(2020, 02, 18, 11, 00), y: 13.5},
          {x: new Date(2020, 02, 19, 12, 00), y: 20.6},
          {x: new Date(2020, 02, 20, 13, 00), y: 15.1},
          {x: new Date(2020, 02, 21, 14, 00), y: 15.1},
          {x: new Date(2020, 02, 22, 15, 00), y: 15.4},
          {x: new Date(2020, 02, 23, 16, 00), y: 14.5},
          {x: new Date(2020, 02, 24, 17, 00), y: 14.9},
          {x: new Date(2020, 02, 25, 18, 00), y: 12.8},
          {x: new Date(2020, 02, 26, 19, 00), y: 14.4},
          {x: new Date(2020, 02, 27, 20, 00), y: 14.5},
          {x: new Date(2020, 02, 28, 21, 00), y: 15.2},
          {x: new Date(2020, 02, 29, 22, 00), y: 10.8},
        ]   
      }],
      slider: {
       minimum: new Date(2020, 01, 22),
       maximum: new Date(2020, 02, 02)
      }
    }
  });   
    stockChart.render();
}

  function fechaActual(){
    var fecha = new Date();
    console.log(fecha);
  }
 
</script>
</head>
<body>
<div id="chartContainer" style="height: 450px; width: 100%;"></div>
<!-- <div class="custom-control custom-switch">
  <input type="checkbox" class="custom-control-input" id="customSwitch1">
  <label class="custom-control-label" for="customSwitch1">Toggle this switch element</label>
</div> -->
</body>
</html>
<script>
  var lacanvas = document.getElementById('thisistheid').innerHTML
  console.log(lacanvas)
  //lacanvas.addEventListener('onclick',console.log('click'))
  lacanvas.addEventListener('onclick',() => {
    var graf = document.querySelector("#chartContainer > div > div.canvasjs-chart-panel > div > div.canvasjs-chart-tooltip > div > span").innerHTML
    console.log(graf)
  });
</script>