<title>D A T O S</title>
<h1></h1>
<div class="container mainmenu p-3 mt-5">
  <div class="row">
    <div class="col-12">
      <div class="row text-center px-3">
				{{#each countMachn}}
				<div class="col-6 col-md-2 border rounded"><small>{{MAQUINA}}: </small><label class="lead">{{COUNT}}</label></div>
				{{/each}}
				<div class="col-6 col-md-2 border rounded"><small>TODA LA DATA </small></div>
      </div>
    </div>
    <div class="col py-5">
      <div id="chartContainer" style="height: 400px; width: 100%;"></div>
      <button class="btn invisible" id="backButton">< Volver</button>
    </div>
  </div>
</div>


<div class="container fixed-top ">
  <div class="row">
    <div class="col text-right ">
      <small class=" font-italic mainmenu p-2">{{OPERARIO}} <a href="./" title="SALIR O CAMBIAR NOMBRE"><i class="fas fa-times-circle text-danger "></i></a></small>
      <img src="/img/logo_ariztia.png" alt="" class="" style="height: 50PX;">
			<a href="javascript:history.back()" class="btn btn-info btn-sm float-left"><i class="fas fa-arrow-left"></i> Volver</a>
    </div>
  </div>
</div>

<script>
  {{!-- var fecha = document.getElementById('FECHA')
  fecha.addEventListener('change',async(event)=>{
    console.log(event.target.value)
  }) --}}
</script>
{{!-- <script>
window.onload = function () {
  var dataPoints = [];
  var stockChart = new CanvasJS.StockChart("stockChartContainer", {
    exportEnabled: true,
    title: {
      text:"Control de Inyeccion"
    },
    subtitles: [{
      text:""
    }],
    charts: [{
      axisX: {
        crosshair: {
          enabled: true,
          snapToDataPoint: true,
          valueFormatString: "DD/MM HH:mm"
        }
      },
      axisY: {
        title: "porcentage",
        prefix: "",
        suffix: "%",
        crosshair: {
          enabled: true,
          snapToDataPoint: true,
          valueFormatString: "#,##%",
        }
      },
      data: [{
        type: "spline",
        showInLegend: true,
        xValueFormatString: "MMM YYYY",
        yValueFormatString: "#,###%",
        dataPoints : [
        {x: new Date("1992-01-01 12:00"),y:27.835},
        {x: new Date("1992-02-01 13:00"),y:27.72},
        {x: new Date("1992-03-01 14:00"),y:27.848}]
      },{
        type: "spline",
        showInLegend: "pedro",
				name: "aram3",
        xValueFormatString: "MMM YYYY",
        yValueFormatString: "#,###%",
        dataPoints : [
        {x: new Date("1992-01-01 12:00"),y:27.835},
        {x: new Date("1992-02-01 13:00"),y:27.65},
        {x: new Date("1992-03-01 13:00"),y:27.72},
        {x: new Date("1992-04-01 12:00"),y:27.835},
        {x: new Date("1992-05-01 14:00"),y:27.7}]
      }
      ]
    }],
    navigator: {
      slider: {
        minimum: new Date(2010, 05, 01),
        maximum: new Date(2018, 00, 01)
      }
    }
  });
  $.getJSON("https://canvasjs.com/data/gallery/stock-chart/grocery-sales.json", function(data) {
    for(var i = 0; i < data.length; i++){
      dataPoints.push({x: new Date(data[i].date), y: Number(data[i].sale)});
    }
    stockChart.render();
  });
}
</script> --}}

<script>
 window.onload = function () {

var totalVisitors = 883000;
var visitorsData = {
	"Maqina Inyeccion": [{
		click: visitorsChartDrilldownHandler,
		cursor: "pointer",
		explodeOnClick: true,
		legendMarkerType: "square",
		name: "Maquina Inyeccion",
		//radius: "100%",
		//showInLegend: true,
		//startAngle: 180,
		type: "column",
		dataPoints: [
			{ label: "CFS 450 IQF 1", y: 120, name: "CFS 450 IQF 1", color:"#2300ff"},
			{ label: "CFS 650 IQF 4", y: 60, name: "CFS 650 IQF 4", color:"#00bdff"},
			{ label: "CFS 650 TRUTRO NORTE", y: 75, name: "CFS 650 TRUTRO NORTE", color:"#00ffc9"},
			{ label: "CFS 650 TRUTRO SUR", y: 66, name: "CFS 650 TRUTRO SUR", color:"#d1ee00"},
			{ label: "METALQUIMIA", y: 68, name: "METALQUIMIA", color:"#d1aa05"},
		]
	}],
	"CFS 450 IQF 1": [
  {
		name: "POLLO",
		type: "spline",
    xValueFormatString: "DD/MMM HH:mm",
		yValueFormatString: "0,0#%",
		dataPoints: [
			{ x: new Date("2 Feb 2015 07:00"), y: 33.5 },
			{ x: new Date("2 Feb 2015 07:15"), y: 35 },
			{ x: new Date("2 Feb 2015 07:30"), y: 42 },
			{ x: new Date("2 Feb 2015 07:45"), y: 42 },
			{ x: new Date("2 Feb 2015 08:00"), y: 43 },
			{ x: new Date("2 Feb 2015 08:15"), y: 40 },
			{ x: new Date("2 Feb 2015 08:30"), y: 42 },
			{ x: new Date("2 Feb 2015 08:45"), y: 44 },
			{ x: new Date("2 Feb 2015 09:00"), y: 44 },
			{ x: new Date("2 Feb 2015 09:15"), y: 48 },
			{ x: new Date("2 Feb 2015 09:30"), y: 50 },
			{ x: new Date("2 Feb 2015 09:45"), y: 51 }
		]
	},
  {
		name: "PAVO",
		type: "spline",
    xValueFormatString: "DD/MMM HH:mm",
		yValueFormatString: "0,0#%",
		dataPoints: [
			{ x: new Date("2 Feb 2015 10:00"), y: 33 },
			{ x: new Date("2 Feb 2015 10:15"), y: 35 },
			{ x: new Date("2 Feb 2015 10:30"), y: 42 },
			{ x: new Date("2 Feb 2015 10:45"), y: 42 },
			{ x: new Date("2 Feb 2015 11:00"), y: 43 },
			{ x: new Date("2 Feb 2015 11:15"), y: 40 },
			{ x: new Date("2 Feb 2015 11:30"), y: 42 },
			{ x: new Date("2 Feb 2015 11:45"), y: 44 },
			{ x: new Date("2 Feb 2015 12:00"), y: 44 },
			{ x: new Date("2 Feb 2015 12:15"), y: 48 },
			{ x: new Date("2 Feb 2015 12:30"), y: 50 },
			{ x: new Date("2 Feb 2015 12:45"), y: 51} 
		]
	},
  {
		name: "TRUTRO",
		type: "spline",
    xValueFormatString: "DD/MMM HH:mm",
		yValueFormatString: "0,0#%",
		dataPoints: [
		  { x: new Date("2 Feb 2015 13:00"), y: 33 },
			{ x: new Date("2 Feb 2015 13:15"), y: 35 },
			{ x: new Date("2 Feb 2015 13:30"), y: 42 },
			{ x: new Date("2 Feb 2015 13:45"), y: 42 },
			{ x: new Date("2 Feb 2015 14:00"), y: 43 },
			{ x: new Date("2 Feb 2015 14:15"), y: 40 },
			{ x: new Date("2 Feb 2015 14:30"), y: 42 },
			{ x: new Date("2 Feb 2015 14:45"), y: 44 },
			{ x: new Date("2 Feb 2015 15:00"), y: 44 },
			{ x: new Date("2 Feb 2015 15:15"), y: 48 },
			{ x: new Date("2 Feb 2015 15:30"), y: 50 },
			{ x: new Date("2 Feb 2015 15:45"), y: 51 }
		]
	},
  {
		name: "PECHUGA",
		type: "spline",
    xValueFormatString: "DD/MMM HH:mm",
		yValueFormatString: "0,0#%",
		dataPoints: [
			{ x: new Date("2 Feb 2015 16:00"), y: 33 },
			{ x: new Date("2 Feb 2015 16:15"), y: 35 },
			{ x: new Date("2 Feb 2015 16:30"), y: 42 },
			{ x: new Date("2 Feb 2015 16:45"), y: 42 },
			{ x: new Date("2 Feb 2015 17:00"), y: 43 },
			{ x: new Date("2 Feb 2015 17:15"), y: 40 },
			{ x: new Date("2 Feb 2015 17:30"), y: 42 },
			{ x: new Date("2 Feb 2015 17:45"), y: 44 },
			{ x: new Date("2 Feb 2015 18:00"), y: 44 },
			{ x: new Date("2 Feb 2015 18:15"), y: 48 },
			{ x: new Date("2 Feb 2015 18:30"), y: 50 },
			{ x: new Date("2 Feb 2015 18:45"), y: 51 }
		]
	}],
  "CFS 650 IQF 4": [
  {
		name: "POLLO",
		type: "spline",
    xValueFormatString: "DD/MMM HH:mm",
		yValueFormatString: "0,0#%",
		dataPoints: [
			{ x: new Date("1 Jan 2015"), y: 33.000 },
			{ x: new Date("1 Feb 2015"), y: 35.960 },
			{ x: new Date("1 Mar 2015"), y: 42.160 },
			{ x: new Date("1 Apr 2015"), y: 42.240 },
			{ x: new Date("1 May 2015"), y: 43.200 },
			{ x: new Date("1 Jun 2015"), y: 40.600 },
			{ x: new Date("1 Jul 2015"), y: 42.560 },
			{ x: new Date("1 Aug 2015"), y: 44.280 },
			{ x: new Date("1 Sep 2015"), y: 44.800 },
			{ x: new Date("1 Oct 2015"), y: 48.720 },
			{ x: new Date("1 Nov 2015"), y: 50.840 },
			{ x: new Date("1 Dec 2015"), y: 51.600 }
		]
	},
  {
		name: "PAVO",
		type: "spline",
    xValueFormatString: "DD/MMM HH:mm",
		yValueFormatString: "0,0#%",
		dataPoints: [
			{ x: new Date("1 Jan 2016"), y: 33.000 },
			{ x: new Date("1 Feb 2016"), y: 35.960 },
			{ x: new Date("1 Mar 2016"), y: 42.160 },
			{ x: new Date("1 Apr 2016"), y: 42.240 },
			{ x: new Date("1 May 2016"), y: 43.200 },
			{ x: new Date("1 Jun 2016"), y: 40.600 },
			{ x: new Date("1 Jul 2016"), y: 42.560 },
			{ x: new Date("1 Aug 2016"), y: 44.280 },
			{ x: new Date("1 Sep 2016"), y: 44.800 },
			{ x: new Date("1 Oct 2016"), y: 48.720 },
			{ x: new Date("1 Nov 2016"), y: 50.840 },
			{ x: new Date("1 Dec 2016"), y: 51.600 }
		]
	}],
  "CFS 650 TRUTRO NORTE": [
  {
		name: "POLLO",
		type: "spline",
    xValueFormatString: "DD/MMM HH:mm",
		yValueFormatString: "0,0#%",
		dataPoints: [
			{ x: new Date("1 Jan 2015"), y: 33.000 },
			{ x: new Date("1 Feb 2015"), y: 35.960 },
			{ x: new Date("1 Mar 2015"), y: 42.160 },
			{ x: new Date("1 Apr 2015"), y: 42.240 },
			{ x: new Date("1 May 2015"), y: 43.200 },
			{ x: new Date("1 Jun 2015"), y: 40.600 },
			{ x: new Date("1 Jul 2015"), y: 42.560 },
			{ x: new Date("1 Aug 2015"), y: 44.280 },
			{ x: new Date("1 Sep 2015"), y: 44.800 },
			{ x: new Date("1 Oct 2015"), y: 48.720 },
			{ x: new Date("1 Nov 2015"), y: 50.840 },
			{ x: new Date("1 Dec 2015"), y: 51.600 }
		]
	},
  {
		name: "PAVO",
		type: "spline",
    xValueFormatString: "DD/MMM HH:mm",
		yValueFormatString: "0,0#%",
		dataPoints: [
			{ x: new Date("1 Jan 2016"), y: 33.000 },
			{ x: new Date("1 Feb 2016"), y: 35.960 },
			{ x: new Date("1 Mar 2016"), y: 42.160 },
			{ x: new Date("1 Apr 2016"), y: 42.240 },
			{ x: new Date("1 May 2016"), y: 43.200 },
			{ x: new Date("1 Jun 2016"), y: 40.600 },
			{ x: new Date("1 Jul 2016"), y: 42.560 },
			{ x: new Date("1 Aug 2016"), y: 44.280 },
			{ x: new Date("1 Sep 2016"), y: 44.800 },
			{ x: new Date("1 Oct 2016"), y: 48.720 },
			{ x: new Date("1 Nov 2016"), y: 50.840 },
			{ x: new Date("1 Dec 2016"), y: 51.600 }
		]
	}],
	"CFS 650 TRUTRO SUR": [
  {
		name: "POLLO",
		type: "line",
    xValueFormatString: "DD/MMM HH:mm",
		yValueFormatString: "0,0#%",
		dataPoints: [
			{ x: new Date("1 Jan 2015"), y: 22.000 },
			{ x: new Date("1 Feb 2015"), y: 26.040 },
			{ x: new Date("1 Mar 2015"), y: 25.840 },
			{ x: new Date("1 Apr 2015"), y: 23.760 },
			{ x: new Date("1 May 2015"), y: 28.800 },
			{ x: new Date("1 Jun 2015"), y: 29.400 },
			{ x: new Date("1 Jul 2015"), y: 33.440 },
			{ x: new Date("1 Aug 2015"), y: 37.720 },
			{ x: new Date("1 Sep 2015"), y: 35.200 },
			{ x: new Date("1 Oct 2015"), y: 35.280 },
			{ x: new Date("1 Nov 2015"), y: 31.160 },
			{ x: new Date("1 Dec 2015"), y: 34.400 }
		]
	},
  {
		name: "PAVO",
		type: "line",
    xValueFormatString: "DD/MMM HH:mm",
		yValueFormatString: "0,0#%",
		dataPoints: [
			{ x: new Date("1 Jan 2016"), y: 22.000 },
			{ x: new Date("1 Feb 2016"), y: 26.040 },
			{ x: new Date("1 Mar 2016"), y: 25.840 },
			{ x: new Date("1 Apr 2016"), y: 23.760 },
			{ x: new Date("1 May 2016"), y: 28.800 },
			{ x: new Date("1 Jun 2016"), y: 29.400 },
			{ x: new Date("1 Jul 2016"), y: 33.440 },
			{ x: new Date("1 Aug 2016"), y: 37.720 },
			{ x: new Date("1 Sep 2016"), y: 35.200 },
			{ x: new Date("1 Oct 2016"), y: 35.280 },
			{ x: new Date("1 Nov 2016"), y: 31.160 },
			{ x: new Date("1 Dec 2016"), y: 34.400 }
		]
	}],
	"METALQUIMIA": [
  {
		name: "POLLO",
		type: "line",
    xValueFormatString: "DD/MMM HH:mm",
		yValueFormatString: "0,0#%",
		dataPoints: [
			{ x: new Date("1 Jan 2015"), y: 22.000 },
			{ x: new Date("1 Feb 2015"), y: 26.040 },
			{ x: new Date("1 Mar 2015"), y: 25.840 },
			{ x: new Date("1 Apr 2015"), y: 23.760 },
			{ x: new Date("1 May 2015"), y: 28.800 },
			{ x: new Date("1 Jun 2015"), y: 29.400 },
			{ x: new Date("1 Jul 2015"), y: 33.440 },
			{ x: new Date("1 Aug 2015"), y: 37.720 },
			{ x: new Date("1 Sep 2015"), y: 35.200 },
			{ x: new Date("1 Oct 2015"), y: 35.280 },
			{ x: new Date("1 Nov 2015"), y: 31.160 },
			{ x: new Date("1 Dec 2015"), y: 34.400 }
		]
	},
  {
		name: "PAVO",
		type: "line",
    xValueFormatString: "DD/MMM HH:mm",
		yValueFormatString: "0,0#%",
		dataPoints: [
			{ x: new Date("1 Jan 2016"), y: 22.000 },
			{ x: new Date("1 Feb 2016"), y: 26.040 },
			{ x: new Date("1 Mar 2016"), y: 25.840 },
			{ x: new Date("1 Apr 2016"), y: 23.760 },
			{ x: new Date("1 May 2016"), y: 28.800 },
			{ x: new Date("1 Jun 2016"), y: 29.400 },
			{ x: new Date("1 Jul 2016"), y: 33.440 },
			{ x: new Date("1 Aug 2016"), y: 37.720 },
			{ x: new Date("1 Sep 2016"), y: 35.200 },
			{ x: new Date("1 Oct 2016"), y: 35.280 },
			{ x: new Date("1 Nov 2016"), y: 31.160 },
			{ x: new Date("1 Dec 2016"), y: 34.400 }
		]
	}]
};

var newVSReturningVisitorsOptions = {
  exportEnabled: true,
	animationEnabled: true,
	theme: "light2",
	title: {
		text: "Maquinas"
	},
	legend: {
		fontFamily: "calibri",
		fontSize: 14,
	},
	data: []
};

var visitorsDrilldownedChartOptions = {
  exportEnabled: true,
	animationEnabled: true,
	theme: "light2",
	axisX: {
    label: "saasdas",
		labelFontColor: "#717171",
		lineColor: "#a2a2a2",
		tickColor: "#a2a2a2",
    crosshair: {
			enabled: true,
			snapToDataPoint: true
		}
	},
	axisY: {
		gridThickness: 0,
		includeZero: false,
		labelFontColor: "#717171",
		lineColor: "#a2a2a2",
		tickColor: "#a2a2a2",
    valueFormatString: "0,0#%",
		lineThickness: 1
	},
  toolTip:{
		shared: true
	},
	data: []
};

var chart = new CanvasJS.Chart("chartContainer", newVSReturningVisitorsOptions);
chart.options.data = visitorsData["Maqina Inyeccion"];
chart.render();

function visitorsChartDrilldownHandler(e) {
	chart = new CanvasJS.Chart("chartContainer", visitorsDrilldownedChartOptions);
	chart.options.data = visitorsData[e.dataPoint.name];
	chart.options.title = { text: e.dataPoint.name }
  console.log(chart.options.data)
	chart.render();
	$("#backButton").toggleClass("invisible");
}

$("#backButton").click(function() { 
	$(this).toggleClass("invisible");
	chart = new CanvasJS.Chart("chartContainer", newVSReturningVisitorsOptions);
	chart.options.data = visitorsData["Maqina Inyeccion"];
	chart.render();
});

}
</script>
<style>
  #backButton {
	border-radius: 4px;
	border: none;
	font-size: 12px;
	background-color: #2eacd1;
	color: white;
	position: absolute;
	top: 50px;
	left: 30px;
	cursor: pointer;
  }
  .invisible {
    display: none;
  }
</style>